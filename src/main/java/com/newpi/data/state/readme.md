#### 状态模式


例子： Alpha 预测服务发布过程中，涉及到新旧服务交替变化的场景，需要根据不同的状态执行不一样的处理逻辑。

状态模式：
将与特定状态相关的行为局部化，并且将不同状态的行为分割开来。
状态模式将特定的状态相关的行为都放入一个对象中，由于所有与状态相关的代码都存在某一个特定的状态中，所以通过定义新的子类就可以很容器地增加新的状态和转化。

什么时候使用状态模式：
当一个对象的行为取决于它的状态，并且它必须在运行时根据状态改变它的行为时，可以考虑使用状态模式。

使用状态模式的好处：
1. 消除庞大的条件分支语句，避免了过多的switch...case或者if...else语句的使用，避免了程序的复杂性,提高系统的可维护性。
2. 很好地体现了开闭原则和单一职责原则，每个状态都是一个子类，你要增加状态就要增加子类，你要修改状态，你只修改一个子类就可以了。
3. 封装性好：状态变换放置到类的内部来实现，外部的调用不用知道类内部如何实现状态和行为的变换。

状态模式缺点：
状态模式既然有优点，那当然有缺点了。但只有一个缺点，子类会太多，也就是类膨胀。如果一个事物有很多个状态也不稀奇，如果完全使用状态模式就会有太多的子类，不好管理，这个需要大家在项目中自己衡量。其实有很多方式可以解决这个状态问题，如在数据库中建立一个状态表，然后根据状态执行相应的操作，这个也不复杂，看大家的习惯和嗜好了。